#include "Stdafx.h"
#include "SSWR/AVIRead/AVIRCalculator1Form.h"
#include "Text/MyString.h"

typedef enum
{
	MNU_KEY_MC = 100,
	MNU_KEY_MR,
	MNU_KEY_MMINUS,
	MNU_KEY_MPLUS,
	MNU_KEY_ADD,
	MNU_KEY_SUB,
	MNU_KEY_MUL,
	MNU_KEY_DIV,
	MNU_KEY_0,
	MNU_KEY_1,
	MNU_KEY_2,
	MNU_KEY_3,
	MNU_KEY_4,
	MNU_KEY_5,
	MNU_KEY_6,
	MNU_KEY_7,
	MNU_KEY_8,
	MNU_KEY_9,
	MNU_KEY_DOT,
	MNU_KEY_EQUAL,
	MNU_KEY_SQRT,
	MNU_KEY_PERCENT,
	MNU_KEY_NEG,
	MNU_KEY_CANCEL
} MenuItems;

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMC(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMR(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMMinus(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMPlus(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyDiv(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeySqrt(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey7(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey8(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey9(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMul(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyPercent(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey4(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey5(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey6(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyMinus(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyNeg(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey1(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey2(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey3(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyPlus(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyCancel(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKey0(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyDot(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

void __stdcall SSWR::AVIRead::AVIRCalculator1Form::OnKeyEqual(AnyType userObj)
{
//	SSWR::AVIRead::AVIRCalculator1Form *me = (SSWR::AVIRead::AVIRCalculator1Form*)userObj;
}

SSWR::AVIRead::AVIRCalculator1Form::AVIRCalculator1Form(Optional<UI::GUIClientControl> parent, NotNullPtr<UI::GUICore> ui, NotNullPtr<SSWR::AVIRead::AVIRCore> core) : UI::GUIForm(parent, 412, 640, ui)
{
	UTF8Char sbuff[32];
	this->core = core;

	this->SetFont(0, 0, 22, false);
	this->SetText(CSTR("Simple Calculator"));
	this->SetNoResize(true);
	this->SetDPI(this->core->GetMonitorHDPI(this->GetHMonitor()), this->core->GetMonitorDDPI(this->GetHMonitor()));

	this->txtResult = ui->NewTextBox(*this, CSTR("0"));
	this->txtResult->SetRect(8, 4, 392, 64, false);
	this->txtResult->SetReadOnly(true);

	this->btnKeyMC = ui->NewButton(*this, CSTR("MC"));
	this->btnKeyMC->SetRect(8, 76, 72, 64, false);
	this->btnKeyMC->HandleButtonClick(OnKeyMC, this);
	this->btnKeyMR = ui->NewButton(*this, CSTR("MR"));
	this->btnKeyMR->SetRect(88, 76, 72, 64, false);
	this->btnKeyMR->HandleButtonClick(OnKeyMR, this);
	this->btnKeyMMinus = ui->NewButton(*this, CSTR("M-"));
	this->btnKeyMMinus->SetRect(168, 76, 72, 64, false);
	this->btnKeyMMinus->HandleButtonClick(OnKeyMMinus, this);
	this->btnKeyMPlus = ui->NewButton(*this, CSTR("M+"));
	this->btnKeyMPlus->SetRect(248, 76, 72, 64, false);
	this->btnKeyMPlus->HandleButtonClick(OnKeyMPlus, this);
	sbuff[0] = 0xc3; //0xf7 div
	sbuff[1] = 0xb7;
	sbuff[2] = 0;
	this->btnKeyDiv = ui->NewButton(*this, {sbuff, 2});
	this->btnKeyDiv->SetRect(328, 76, 72, 64, false);
	this->btnKeyDiv->HandleButtonClick(OnKeyDiv, this);

	sbuff[0] = 0xe2; //0x221a sqrt
	sbuff[1] = 0x88;
	sbuff[2] = 0x9a;
	sbuff[3] = 0;
	this->btnKeySqrt = ui->NewButton(*this, {sbuff, 3});
	this->btnKeySqrt->SetRect(8, 148, 72, 64, false);
	this->btnKeySqrt->HandleButtonClick(OnKeySqrt, this);
	this->btnKey7 = ui->NewButton(*this, CSTR("7"));
	this->btnKey7->SetRect(88, 148, 72, 64, false);
	this->btnKey7->HandleButtonClick(OnKey7, this);
	this->btnKey8 = ui->NewButton(*this, CSTR("8"));
	this->btnKey8->SetRect(168, 148, 72, 64, false);
	this->btnKey8->HandleButtonClick(OnKey8, this);
	this->btnKey9 = ui->NewButton(*this, CSTR("9"));
	this->btnKey9->SetRect(248, 148, 72, 64, false);
	this->btnKey9->HandleButtonClick(OnKey9, this);
	sbuff[0] = 0xc3; //0xd7 mul
	sbuff[1] = 0x97;
	sbuff[2] = 0;
	this->btnKeyMul = ui->NewButton(*this, {sbuff, 2});
	this->btnKeyMul->SetRect(328, 148, 72, 64, false);
	this->btnKeyMul->HandleButtonClick(OnKeyMul, this);

	this->btnKeyPercent = ui->NewButton(*this, CSTR("%"));
	this->btnKeyPercent->SetRect(8, 220, 72, 64, false);
	this->btnKeyPercent->HandleButtonClick(OnKeyPercent, this);
	this->btnKey4 = ui->NewButton(*this, CSTR("4"));
	this->btnKey4->SetRect(88, 220, 72, 64, false);
	this->btnKey4->HandleButtonClick(OnKey4, this);
	this->btnKey5 = ui->NewButton(*this, CSTR("5"));
	this->btnKey5->SetRect(168, 220, 72, 64, false);
	this->btnKey5->HandleButtonClick(OnKey5, this);
	this->btnKey6 = ui->NewButton(*this, CSTR("6"));
	this->btnKey6->SetRect(248, 220, 72, 64, false);
	this->btnKey6->HandleButtonClick(OnKey6, this);
	this->btnKeyMinus = ui->NewButton(*this, CSTR("-"));
	this->btnKeyMinus->SetRect(328, 220, 72, 64, false);
	this->btnKeyMinus->HandleButtonClick(OnKeyMinus, this);

	this->btnKeyNeg = ui->NewButton(*this, CSTR("+/-"));
	this->btnKeyNeg->SetRect(8, 292, 72, 64, false);
	this->btnKeyNeg->HandleButtonClick(OnKeyNeg, this);
	this->btnKey1 = ui->NewButton(*this, CSTR("1"));
	this->btnKey1->SetRect(88, 292, 72, 64, false);
	this->btnKey1->HandleButtonClick(OnKey1, this);
	this->btnKey2 = ui->NewButton(*this, CSTR("2"));
	this->btnKey2->SetRect(168, 292, 72, 64, false);
	this->btnKey2->HandleButtonClick(OnKey2, this);
	this->btnKey3 = ui->NewButton(*this, CSTR("3"));
	this->btnKey3->SetRect(248, 292, 72, 64, false);
	this->btnKey3->HandleButtonClick(OnKey3, this);
	this->btnKeyPlus = ui->NewButton(*this, CSTR("+"));
	this->btnKeyPlus->SetRect(328, 292, 72, 136, false);
	this->btnKeyPlus->HandleButtonClick(OnKeyPlus, this);

	this->btnKeyCancel = ui->NewButton(*this, CSTR("C/AC"));
	this->btnKeyCancel->SetRect(8, 364, 72, 64, false);
	this->btnKeyCancel->HandleButtonClick(OnKeyCancel, this);
	this->btnKey0 = ui->NewButton(*this, CSTR("0"));
	this->btnKey0->SetRect(88, 364, 72, 64, false);
	this->btnKey0->HandleButtonClick(OnKey0, this);
	this->btnKeyDot = ui->NewButton(*this, CSTR("."));
	this->btnKeyDot->SetRect(168, 364, 72, 64, false);
	this->btnKeyDot->HandleButtonClick(OnKeyDot, this);
	this->btnKeyEqual = ui->NewButton(*this, CSTR("="));
	this->btnKeyEqual->SetRect(248, 364, 72, 64, false);
	this->btnKeyEqual->HandleButtonClick(OnKeyEqual, this);
}

SSWR::AVIRead::AVIRCalculator1Form::~AVIRCalculator1Form()
{
}

void SSWR::AVIRead::AVIRCalculator1Form::EventMenuClicked(UInt16 cmdId)
{
	switch (cmdId)
	{
	case MNU_KEY_MC:
		this->OnKeyMC(this);
		break;
	case MNU_KEY_MR:
		this->OnKeyMR(this);
		break;
	case MNU_KEY_MMINUS:
		this->OnKeyMMinus(this);
		break;
	case MNU_KEY_MPLUS:
		this->OnKeyMPlus(this);
		break;
	case MNU_KEY_ADD:
		this->OnKeyPlus(this);
		break;
	case MNU_KEY_SUB:
		this->OnKeyMinus(this);
		break;
	case MNU_KEY_MUL:
		this->OnKeyMul(this);
		break;
	case MNU_KEY_DIV:
		this->OnKeyDiv(this);
		break;
	case MNU_KEY_0:
		this->OnKey0(this);
		break;
	case MNU_KEY_1:
		this->OnKey1(this);
		break;
	case MNU_KEY_2:
		this->OnKey2(this);
		break;
	case MNU_KEY_3:
		this->OnKey3(this);
		break;
	case MNU_KEY_4:
		this->OnKey4(this);
		break;
	case MNU_KEY_5:
		this->OnKey5(this);
		break;
	case MNU_KEY_6:
		this->OnKey6(this);
		break;
	case MNU_KEY_7:
		this->OnKey7(this);
		break;
	case MNU_KEY_8:
		this->OnKey8(this);
		break;
	case MNU_KEY_9:
		this->OnKey9(this);
		break;
	case MNU_KEY_DOT:
		this->OnKeyDot(this);
		break;
	case MNU_KEY_EQUAL:
		this->OnKeyEqual(this);
		break;
	case MNU_KEY_SQRT:
		this->OnKeySqrt(this);
		break;
	case MNU_KEY_PERCENT:
		this->OnKeyPercent(this);
		break;
	case MNU_KEY_NEG:
		this->OnKeyNeg(this);
		break;
	case MNU_KEY_CANCEL:
		this->OnKeyCancel(this);
		break;
	}
}

void SSWR::AVIRead::AVIRCalculator1Form::OnMonitorChanged()
{
	this->SetDPI(this->core->GetMonitorHDPI(this->GetHMonitor()), this->core->GetMonitorDDPI(this->GetHMonitor()));
}
